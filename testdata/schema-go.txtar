# missing files should be reported and fail
! exec parquetry schema -go missing.parquet
stderr 'missing.parquet: no such file or directory'
! stdout .

# alphav should be vertical
exec parquetry schema -go alphav.parquet
! stderr .
cmp stdout alphav.want

# alphaw should be wide
exec parquetry schema -go alphaw.parquet
! stderr .
cmp stdout alphaw.want

# alphamapv should be vertical
exec parquetry schema -go alphamapv.parquet
! stderr .
cmp stdout alphamapv.want

# alphamapw should be wide
exec parquetry schema -go alphamapw.parquet
! stderr .
cmp stdout alphamapw.want

# dates exercizes date storage
exec parquetry schema -go dates.parquet
! stderr .
cmp stdout dates.want

# times should leverage most time storages
exec parquetry schema -go times.parquet
! stderr .
cmp stdout times.want

# timestamps should leverage most time storages
exec parquetry schema -go timestamps.parquet
! stderr .
cmp stdout timestamps.want

-- alphav.want --
struct { A string }
-- alphaw.want --
struct { A string; B string; C string; D string; E string; F string; G string }
-- alphamapv.want --
struct { M map[string]string }
-- alphamapw.want --
struct { M map[string]string }
-- dates.want --
struct { Date main.Date }
-- times.want --
struct { Ms main.TimeMilliUTC; Us main.TimeMicroUTC; Ns main.TimeNanoUTC }
-- timestamps.want --
struct { Sms main.StampMilliUTC; Sus main.StampMicroUTC; Sns main.StampNanoUTC; Tms main.StampMilliUTC; Tus main.StampMicroUTC; Tns main.StampNanoUTC }
